<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
			crossorigin="anonymous"
		/>
		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}
			body {
				height: 100vh;
				/* background-color: blue; */
				display: flex;
			}
			.container {
				height: 940px;
				margin: auto;
				display: flex;
				flex-wrap: wrap;
				flex-direction: row;
				perspective: 1000px;
			}
			.header {
				width: 100%;
				display: flex;
				flex-direction: row;
				/* background-color: red; */
				justify-content: space-around;
				font-size: 50px;
			}
			.card {
				height: calc(33.333% - 10px);
				position: relative;
				transform: scale(1);
				transform-style: preserve-3d;
				transition: transform 0.5s;
			}
			.card:active {
				transform: scale(0.97);
				transition: transform 0.2s;
			}
			.card.flip {
				transform: rotateY(180deg);
			}
			.front-card,
			.back-card {
				width: 100%;
				height: 100%;
				padding: 5px;
				position: absolute;
				backface-visibility: hidden;
			}
			.front-card {
				transform: rotateY(180deg);
			}
		</style>
	</head>
	<body>
		<section class="container">
			<div class="header">
				<h3 id="moves">Moves:</h3>
				<br />
				<h3 id="scores">Scores:</h3>
				<br />
				<h3 id="display-remaining-cards">Remaining Cards:</h3>
				<br />
			</div>
			<div class="card col-md-3" data-card="A">
				<img class="front-card" src="img/upperCase/A.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="B">
				<img class="front-card" src="img/upperCase/B.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="C">
				<img class="front-card" src="img/upperCase/C.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="D">
				<img class="front-card" src="img/upperCase/D.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="E">
				<img class="front-card" src="img/upperCase/E.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="F">
				<img class="front-card" src="img/upperCase/F.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="G">
				<img class="front-card" src="img/upperCase/G.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="H">
				<img class="front-card" src="img/upperCase/H.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="I">
				<img class="front-card" src="img/upperCase/I.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="J">
				<img class="front-card" src="img/upperCase/J.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>

			<!-- second -->
			<div class="card col-md-3" data-card="A">
				<img class="front-card" src="img/lowerCase/a.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="B">
				<img class="front-card" src="img/lowerCase/b.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="C">
				<img class="front-card" src="img/lowerCase/c.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="D">
				<img class="front-card" src="img/lowerCase/d.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="E">
				<img class="front-card" src="img/lowerCase/e.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="F">
				<img class="front-card" src="img/lowerCase/f.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="G">
				<img class="front-card" src="img/lowerCase/g.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="H">
				<img class="front-card" src="img/lowerCase/h.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="I">
				<img class="front-card" src="img/lowerCase/i.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
			<div class="card col-md-3" data-card="J">
				<img class="front-card" src="img/lowerCase/j.jpg" alt="front" />
				<img class="back-card" src="img/LETTERS.jpg" alt="back" />
			</div>
		</section>
		<script>
			const cards = document.querySelectorAll('.card');
			const moves = document.querySelector('#moves');
			const scores = document.querySelector('#scores');
			const displayRemainCards = document.querySelector(
				'#display-remaining-cards'
			);

			let hasFlippedCard = false;
			let lockBoard = false;
			let firstCard, secondCard;
			let countMoves = 0;
			let countScores = 0;
			let countsRemainingCards = cards.length / 2;

			let functionRemainingCards = () => {
				displayRemainCards.innerHTML = `Cards Remaining: ${countsRemainingCards}`;
			};
			functionRemainingCards();

			function flipCard() {
				if (lockBoard) return;
				/* console.log('Napindot');*/
				/* console.log(this);
				console.log(countMoves); */
				this.classList.add('flip');
				if (!hasFlippedCard) {
					//firstclick
					hasFlippedCard = true;
					firstCard = this;
				} else {
					hasFlippedCard = false;
					secondCard = this;
					checkeForMatch();
				}
			}
			function checkeForMatch() {
				if (firstCard.dataset.card === secondCard.dataset.card) {
					//if matched call function disableCards
					disableCards();
					countMoves++;
					moves.innerHTML = `Moves: ${countMoves}`;
					countScores++;
					scores.innerHTML = `Scores: ${countScores}`;
					countsRemainingCards--;
					displayRemainCards.innerHTML = `Cards Remaining: ${countsRemainingCards}`;
					if (countsRemainingCards == 0) {
						alert('Done');
					}
				} else {
					//if not matched call unflipCard
					unflipCard();
					countMoves++;
					// moves.innerHTML = countMoves;
					moves.innerHTML = `Moves: ${countMoves}`;
				}
			}
			function disableCards() {
				firstCard.removeEventListener('click', flipCard);
				secondCard.removeEventListener('click', flipCard);
			}
			function unflipCard() {
				lockBoard = true;
				setTimeout(() => {
					firstCard.classList.remove('flip');
					secondCard.classList.remove('flip');
					lockBoard = false;
				}, 400);
			}
			function shuffle() {
				cards.forEach((card) => {
					let randomPos = Math.floor(Math.random() * cards.length);
					card.style.order = randomPos;
					console.log();
				});
			}
			cards.forEach((card) => card.addEventListener('click', flipCard));
		</script>
	</body>
</html>
